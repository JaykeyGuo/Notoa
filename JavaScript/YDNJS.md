# YDNJS

#### YDNJS-作用域和闭包

> **闭包就是函数能够记住并访问它的词法作用域，即使当这个函数在它的词法作用域之外执行时。**

> **词法作用域是在词法分析时被定义的作用域。**换句话说，词法作用域是基于，你，在写程序时，变量和作用域的块儿在何处被编写决定的，因此它在词法分析器处理你的代码时（基本上）是固定不变的。

作用域，在ES6之前，没有词法作用域的概念，在引入了词法分析之后，也就定下了词法作用域的概念，通过对应的词法分析，来查找对应的变量是在哪。JS的引擎在编译和执行的过程中，总是需要在作用域中寻找对应的报错信息，如果是没有定义报错是``ReferenceError``，如果是能查询到对应的变量，但是使用了非法的操作，则会报错`TypeError`。

*有两个方式能够欺骗词法作用域：`eval`和`with`*

闭包其实作用域的一个更厉害的应用，即使对应的代码已经执行完，但是只要还保持有对该作用域的调用，这就产生了闭包。

闭包其实是一个对变量保存的集合。

> **闭包：**
>
> 在Javascript中，根据词法作用域的规则，内部函数总是可以访问其外部函数中声明的变量，当通过调用一个外部函数返回一个内部函数后，即使该外部函数已经执行结束了，但是内部函数引用外部函数的变量依然保存在内存中，这些变量的集合称为闭包。
>
> YDNJS中的闭包：
>
> 闭包就是函数能够记住并访问它的词法作用域，即使当这个函数在它的词法作用域之外执行时。

